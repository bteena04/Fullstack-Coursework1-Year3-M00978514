<!--Index.html-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/vue@2.7.8/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link rel="stylesheet" href="./css/styles.css" />
    <title>XLearning</title>
  </head>
  <body>
    <!--Vue app-->
    <div id="app">
      <!--Import the navbar from the navbar template.-->
      <navbar :current-view="currentView" @navigate="navigate"></navbar>

      <!-- Conditional rendering of pages -->
      <div v-if="currentView === 'home'">
        <h2>Home Page</h2>
        <p>Welcome to XLearning!</p>
      </div>

      <div v-if="currentView === 'browse'">
        <h2>Browse Lessons</h2>
        <p>List of lessons here...</p>
      </div>

      <div v-if="currentView === 'dashboard'">
        <h2>Dashboard</h2>
        <p>User info and stats...</p>
      </div>
    </div>

    <!-- Navbar template -->
    <script type="text/x-template" id="navbar_template">
      <nav class="navbar navbar-expand-lg bg-body-tertiary" :data-bs-theme="darkMode ? 'dark' : 'light'">
        <div class="container-fluid">

          <!-- Logo and app name -->
          <a class="navbar-brand" href="#"  @click.prevent="go('home')">
            <img :src="darkMode? logo.darkMode : logo.lightMode" alt="Logo" width="40" height="35" class="d-inline-block align-text-middle"> XLearning
          </a>


          <!-- Toggle menu icon -->
          <button class="navbar-toggler dropdown" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
          </ul>

          <!-- Navigation links -->
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="navbar-nav">
              <a :class="[ 'nav-link', isActive('home') ]" :aria-current="isActive('home') ? 'page' : null"
                href="#" @click.prevent="go('home')">Home
              </a>
              <a :class="[ 'nav-link', isActive('browse') ]" :aria-current="isActive('browse') ? 'page' : null"
                href="#" @click.prevent="go('browse')">Browse
              </a>

              <a :class="[ 'nav-link', isActive('dashboard') ]" :aria-current="isActive('dashboard') ? 'page' : null"
                href="#" @click.prevent="go('dashboard')">Browse
              </a>
            </div>

            <div class="d-flex align-items-start-end gap-3 ms-auto">

              <!-- Dark mode toggle button -->
              <form class="d-flex">
                <button type="button" :class="['btn', 'btn-sm', darkMode ? 'active toggle-dark-button' : 'active toggle-white-button']" @click="toggleTheme()" data-bs-toggle="button" aria-pressed="true">Dark Mode</button>
              </form>

              <!-- Search bar -->
              <form class="d-flex me-2" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"/>
                <button class="btn btn-outline-success" type="submit">Search</button>
              </form>

              <!-- <Log in and Log out buttons -->
              <form class="d-flex" role="sign-in">
                <button type="button" class="btn btn-light btn-sm" v-if="!userLoginStatus.isUserLoggedIn">Sign In</button>
                <button type="button" class="btn btn-light btn-sm" v-if="userLoginStatus.isUserLoggedIn">
                  Log Out
                  <span class="fa-solid fa-arrow-right-from-bracket"></span>
                </button>
              </form>
            </div>
          </div>
        </div>
      </nav>
    </script>

    <!--Navbar component script-->
    <script src="./js/components/navbar.js"></script>

    <!--Main app script-->
    <script src="./js/main.js"></script>
  </body>
</html>
